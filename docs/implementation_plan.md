# 機能実装計画

## 目標

`memo.md` に基づき、以下の変更を実装する:

1.  **一般ユーザーのアップロード**: 一般ユーザーが画像をアップロードできるように
    する。
2.  **管理者機能**: `/admin` ページを作成し、パスワード認証で画像の削除を可能に
    する。
3.  **詳細画面の廃止**: 画像詳細画面を廃止する。

## ユーザーレビューが必要な事項

- 管理者パスワードの管理方法（環境変数 `ADMIN_PASSWORD` での簡易認証で良いか）。
- 詳細画面廃止後の画像クリック時の挙動（現在はクリック無効化を想定）。

## 提案される変更

### ルーティングとクリーンアップ

#### [DELETE] 詳細ページ

- `app/images/[id]/page.tsx` を削除する。
- `app/images` ディレクトリが空になれば削除する。
- `components/GalleryGrid.tsx` を更新し、詳細ページへのリンクを削除する。

### 管理者機能

#### [NEW] 管理者ログイン

- `app/admin/page.tsx`: 簡易ログインフォームを作成する。
- `app/admin/actions.ts`: 認証用のサーバーアクションを作成する（環境変数
  `ADMIN_PASSWORD` と照合）。

#### [NEW] 管理者ダッシュボード

- `app/admin/dashboard/page.tsx`:
  - 全画像リストを表示（ホーム画面と同様だが、削除ボタン付き）。
  - 各画像に削除ボタンを設置。
- `app/admin/actions.ts` に `deleteImage` サーバーアクションを追加する。

### 一般ユーザーアップロード

- `app/upload/page.tsx` がアクセス可能であることを確認する。
- ヘッダーに「アップロード」リンクがない場合は追加する。

## 検証計画

### 手動検証

1.  **アップロード**: `/upload` を開き、画像をアップロードし、ホーム画面に表示さ
    れることを確認する。
2.  **詳細削除**: ホーム画面で画像をクリックし、詳細ページに遷移しないことを確認
    する。
3.  **管理者ログイン**: `/admin` にアクセスし、誤ったパスワードで失敗し、正しい
    パスワードでダッシュボードに遷移することを確認する。
4.  **管理者削除**: ダッシュボードで画像を削除し、ホーム画面およびストレージから
    削除されていることを確認する。
